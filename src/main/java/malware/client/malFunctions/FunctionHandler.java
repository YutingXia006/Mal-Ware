package malware.client.malFunctions;

import javafx.scene.control.Button;
import javafx.scene.control.RadioButton;
import javafx.scene.control.ToggleGroup;

import java.util.ArrayList;

public class FunctionHandler {

    public ArrayList<RadioButton> functionButtons = new ArrayList<>();
    private ToggleGroup functionGroup = new ToggleGroup();
    private ArrayList<SimpleFunctionsAbstract> functions = new ArrayList<>();

    public FunctionHandler() {

        addDefaultDrawing();
        initFunctions();
        addButtons();
    }

    private void addDefaultDrawing(){
        RadioButton draw = new RadioButton("Draw");
        functionButtons.add(draw);
        draw.setToggleGroup(functionGroup);
    }

    public void initFunctions(){

        SquareFunction squareFunction = new SquareFunction();
        functions.add(squareFunction);
        BigSquareFunction bigSquareFunction = new BigSquareFunction();
        functions.add(bigSquareFunction);

    }

    public String getSelectedFunction(){
        RadioButton selectedRadioButton = (RadioButton) functionGroup.getSelectedToggle();
        return selectedRadioButton.getText();
    }


    public void addButtons(){
        functions.stream().forEach(f->{
            functionButtons.add(createButton(f));

        });

    }

    private RadioButton createButton(SimpleFunctionsAbstract f){

        RadioButton button = new RadioButton(f.getDisplayName());
        button.setToggleGroup(functionGroup);

        return button;
    }


}
